function showBottomBanner() {
    /** Bottom Banner Cookie Functionality */
    var bottomBanner = document.getElementById("announcementBottomBanner");

    if (typeof(bottomBanner) != 'undefined' && bottomBanner != null) {
        var bottomBannerTimeout = bottomBanner.getAttribute('data-timeout');
        if (bottomBannerTimeout) {
            setTimeout(function() {
                var dismissLinkBottomBanner = bottomBanner.querySelector(".closeBottomBanner");
                var cookies = document.cookie.split('; ');
            
                var cookieValue = cookies.find(function(row) {
                    return row.startsWith('sw-bottom-banner-announcement');
                });
            
                if ( cookieValue ) {
                    bottomBanner.classList.remove("showBanner");
                } else {
                    bottomBanner.classList.add("showBanner")
                }
            
                dismissLinkBottomBanner.addEventListener('click', function(e){
                    bottomBanner.classList.remove('showBanner');
                    document.cookie = "sw-bottom-banner-announcement";
                });
            }, bottomBannerTimeout);
        }

        return 'sw-bottom-banner-announcement';
    } else {
        return 'sw-bottom-banner-not-loaded';
    }
}

function showFlyOut() {
    /** Fly-out Cookie Functionality */
    var flyout = document.getElementById("announcementFlyOut");

    if (typeof(flyout) != 'undefined' && flyout != null) {
        var flyoutTimeout = flyout.getAttribute('data-timeout');

        if (flyoutTimeout) {
            setTimeout(function() {
                var dismissLinkFlyOut = flyout.querySelector(".closeFlyOut");
                var cookies = document.cookie.split('; ');
    
                var cookieValue = cookies.find(function(row) {
                    return row.startsWith('sw-flyout-announcement');
                });
    
                if ( cookieValue ) {
                    flyout.classList.add("hideFlyOut");
                    flyout.classList.remove("showFlyOut");
                } else {
                    flyout.classList.remove("hideFlyOut");
                    flyout.classList.add("showFlyOut");
                }
    
                dismissLinkFlyOut.addEventListener('click', function(e){
                    flyout.classList.add("hideFlyOut");
                    document.cookie = "sw-flyout-announcement";
                });
            }, flyoutTimeout);
        }
    
        return 'sw-fly-out-announcement';
    } else {
        return 'sw-fly-out-not-loaded';
    }
}

function showPopUp() {
    /** Popup Cookie Functionality */
    var popup = document.getElementById("announcementPopup");

    if (typeof(popup) != 'undefined' && popup != null) {
        var popupTimeout = popup.getAttribute('data-timeout');

        if (popupTimeout) {
            setTimeout(function() {
                var dismissLinkPopup = popup.querySelector(".closePopUp");
                var cookies = document.cookie.split('; ');
                var cookieValue = cookies.find(function(row) {
                    return row.startsWith('sw-popup-announcement');
                });
    
                if ( cookieValue ) {
                    popup.classList.add("hidePopup");
                    popup.classList.remove("showPopup");
                } else {
                    popup.classList.remove("hidePopup");
                    popup.classList.add("showPopup");
                }
    
                dismissLinkPopup.addEventListener('click', function(e){
                    popup.className += ' hidePopup';
                    document.cookie = "sw-popup-announcement";
                });
            }, popupTimeout);
        }
    
        return 'sw-popup-announcement';
    } else {
        return 'sw-popup-not-loaded';
    }
}


function ready(callback){
    // in case the document is already rendered
    if (document.readyState!='loading') callback();
    // modern browsers
    else if (document.addEventListener) document.addEventListener('DOMContentLoaded', callback);
    // IE <= 8
    else document.attachEvent('onreadystatechange', function(){
        if (document.readyState=='complete') callback();
    });
}

ready(function(){
    showBottomBanner();
    showFlyOut();
    showPopUp();
});